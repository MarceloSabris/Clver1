!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){!function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}()},function(e,t){!function(){if("function"==typeof window.Object.values)return!1;window.Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}}(),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0})},function(e,t){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var o,i,a=0|t,c=Math.max(a>=0?a:r-Math.abs(a),0);c<r;){if((o=n[c])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;c++}return!1}})},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,s(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)})(e)}function c(e,t,n){return(c=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&l(o,n.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t);var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,n,r=(t=a,n=u(),function(){var e,r=s(t);if(n){var i=s(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return o(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this,t)).name=void 0===e?"PlatformBridgeError":e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(i(n),n.constructor):n.stack=new Error(t).stack,n}return a}(a(Error));function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"trackEvent",value:function(e,t){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"trackComponentLoad",value:function(e){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&p(t.prototype,n),r&&p(t,r),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"requestSigninRegistration",value:function(e,t,n){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&m(t.prototype,n),r&&m(t,r),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isSubscribed",value:function(){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"isAuthorized",value:function(e){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"isEntitled",value:function(e){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&b(t.prototype,n),r&&b(t,r),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getIdentity",value:function(){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"isIndividual",value:function(){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"getUserAccessType",value:function(){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"isEmailVerified",value:function(){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"hasPathChoice",value:function(){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&h(t.prototype,n),r&&h(t,r),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getId",value:function(){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&w(t.prototype,n),r&&w(t,r),e}();function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getValue",value:function(e){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"getValue",value:function(e,t){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"getComponentConfiguration",value:function(e){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&O(t.prototype,n),r&&O(t,r),e}();function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"fail",value:function(e,t,n,r,o){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"warn",value:function(e,t,n,r,o){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&_(t.prototype,n),r&&_(t,r),e}();function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"subscribe",value:function(e,t){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"unsubscribe",value:function(e,t){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"publish",value:function(e,t){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&j(t.prototype,n),r&&j(t,r),e}();function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getText",value:function(e,t){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&I(t.prototype,n),r&&I(t,r),e}();function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"debug",value:function(e,t,n,r){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"info",value:function(e,t,n,r){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"warn",value:function(e,t,n,r){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"error",value:function(e,t,n,r){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&T(t.prototype,n),r&&T(t,r),e}();function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"notify",value:function(e,t,n){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&x(t.prototype,n),r&&x(t,r),e}();function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"get",value:function(e,t){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"post",value:function(e,t){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"put",value:function(e,t){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"delete",value:function(e,t){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"patch",value:function(e,t){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&A(t.prototype,n),r&&A(t,r),e}();function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getValue",value:function(e,t,n){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"putValue",value:function(e,t,n,r){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"deleteValue",value:function(e,t,n){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&N(t.prototype,n),r&&N(t,r),e}();function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getId",value:function(){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"getUrlParams",value:function(){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"getBookmarkParam",value:function(e,t){throw new f("FunctionNotImplemented","Function is not implemented!")}},{key:"setBookmarkParam",value:function(e,t,n){throw new f("FunctionNotImplemented","Function is not implemented!")}}],(n=null)&&M(t.prototype,n),r&&M(t,r),e}(),z={analytics:y,user:{authentication:d,authorization:v,identification:g,session:S},configuration:k,errorReporter:P,eventManager:R,localization:E,logger:C,messenger:U,serviceManager:F,storage:D,page:q},V=window.scopus||{};function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}V.platform=z,window.scopus=V;var W=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"validateParams",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t.length>-1&&"object"===H(t))e._oldSignature(t,n);else{var r=e._checkIfExists(t.parameters);e._checkReqUndefined(r,t.required),e._checkTypes(r,t.types),e._checkSize(r,t.size)}}},{key:"_oldSignature",value:function(e,t){var n="",r=!0,o=Object.values(e);if(o.length<t&&(r=!1,n+="Invalid number of arguments. Function requires ".concat(t," arguments but only ").concat(o.length," arguments was passed.")),o.some((function(e){return null==e||""===e||null==e}))&&(r=!1,n+="Invalid input. Arguments cannot be null or empty or undefined."),!r)throw new f("PlatformBridgeParamChecker",n)}},{key:"_checkIfExists",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return void 0!==t&&Array.isArray(t)||e._throwViolation("Parameters key is required: Did you pass in the arguments array?  Check for misspellings"),t}},{key:"_checkReqUndefined",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0!==n){t.length<n&&e._throwViolation("Invalid number of arguments. Function requires ".concat(n," arguments but only ").concat(t.length," arguments was passed."));for(var r=0;r<n;r++)void 0===t[r]&&e._throwViolation('Undefined argument: 1 or more arguments are "undefined"')}}},{key:"_checkTypes",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0!==n)for(var r in t)if(n[r]){var o=e._getTypeArray(n[r]),i=e._checkTypeAtIndex(t[r],o);i||e._throwViolation("Invalid type. Argument type at index ".concat(r," (").concat(null===t[r]?t[r]:H(t[r]),") is not listed in user provided types (").concat(JSON.stringify(o).replace(/^\[+|\]+$/g,""),")."))}}},{key:"_checkSize",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0!==n)for(var r in t)if(n[r]&&"string"==typeof t[r]){var o=n[r].min,i=n[r].max,a=e._checkSizeAtIndex(t[r],o,i),c=B(a,2),u=c[0],l=c[1];u||e._throwViolation(l)}}},{key:"_checkSizeAtIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=!0,o="";return void 0!==t&&e.length<t&&(r=!1,o='MIN error. A string argument ("'.concat(e,'": ').concat(e.length,") must be ").concat(t," or more characters")),void 0!==n&&e.length>n&&(r=!1,o='MAX error. A string argument ("'.concat(e,'": ').concat(e.length,") exceeds ").concat(n," characters")),[r,o]}},{key:"_getTypeArray",value:function(e){return Array.isArray(e)?e:e.split()}},{key:"_checkTypeAtIndex",value:function(e,t){var n=!0;return null===e?t.findIndex((function(e){return null===e}))<0&&(n=!1):t.includes(H(e))||(n=!1),n}},{key:"_throwViolation",value:function(e){throw new f("PlatformBridgeParamChecker",e)}}],(n=null)&&G(t.prototype,n),r&&G(t,r),e}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(i,e);var t,n,r,o=Y(i);function i(){return Q(this,i),o.apply(this,arguments)}return t=i,r=[{key:"trackEvent",value:function(e,t){W.validateParams(arguments,1),i._trackAfterLoadingAdobeObject((function(){pageDataTracker.trackEvent(e,t)}))}},{key:"trackComponentLoad",value:function(e){W.validateParams(arguments,1),i._trackAfterLoadingAdobeObject((function(){pageDataTracker.trackEvent("newPage",{page:{name:"sc:".concat(e)}})}))}},{key:"_trackAfterLoadingAdobeObject",value:function(e){var t=0;if(i._adobeObjectsExist())e();else var n=setInterval((function(){if(t+=1,i._adobeObjectsExist())e(),clearInterval(n);else if(t>=20){var r="Failed to load AdobeAnalytics object.";window.scopus.platform.logger.error("PlatformBridgeAdobeAnalytics",r,r,!0),clearInterval(n)}}),100)}},{key:"_adobeObjectsExist",value:function(){return!(void 0===pageDataTracker||void 0===pageDataTracker.trackEvent)}}],(n=null)&&$(t.prototype,n),r&&$(t,r),i}(y);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var o=ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(i,e);var t,n,r,o=ie(i);function i(){return ne(this,i),o.apply(this,arguments)}return t=i,r=[{key:"requestSigninRegistration",value:function(e,t,n){if(W.validateParams({parameters:Array.prototype.slice.call(arguments),required:1,types:{0:"object",1:"string",2:"boolean"}}),!window.IDPlus||!window.IDPlus.promptLogin)throw new f("InvalidReference","IDPlus dependency missing");window.IDPlus.promptLogin(e,t,n)}}],(n=null)&&re(t.prototype,n),r&&re(t,r),i}(d);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return me(this,n)}}function me(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(i,e);var t,n,r,o=ye(i);function i(){return se(this,i),o.apply(this,arguments)}return t=i,r=[{key:"isSubscribed",value:function(){if(!ScopusUser||void 0===ScopusUser.isSubscribed)throw new f("InvalidIdentification","ScopusUser or isSubscribed data is missing in the platform.");return ScopusUser.isSubscribed}},{key:"isAuthorized",value:function(e){if(!ScopusUser||!ScopusUser.adminRoles)throw new f("MissingPlatformData",'Object "ScopusUser" or "ScopusUser.adminRoles" not available in the platform.');return W.validateParams({parameters:Array.prototype.slice.call(arguments),required:1,types:{0:"string"},size:{0:{min:1}}}),ScopusUser.adminRoles.includes(e)}},{key:"isEntitled",value:function(e){if(W.validateParams({parameters:Array.prototype.slice.call(arguments),required:1,types:{0:["number","string"]}}),!ScopusUser||!ScopusUser.fenceIds||!ScopusUser.fenceNames)throw new f("InvalidIdentification","Invalid ScopusUser, fenceId or fenceName");return"number"==typeof e&&isFinite(e)?ScopusUser.fenceIds.includes(e):"string"==typeof e&&ScopusUser.fenceNames.includes(e)}}],(n=null)&&fe(t.prototype,n),r&&fe(t,r),i}(v);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(i,e);var t,n,r,o=Se(i);function i(){return he(this,i),o.apply(this,arguments)}return t=i,r=[{key:"getIdentity",value:function(){if(void 0===ScopusUser||void 0===ScopusUser.webUserId||void 0===ScopusUser.account||void 0===ScopusUser.account.accountId||void 0===ScopusUser.account.accountName||void 0===ScopusUser.department||void 0===ScopusUser.department.departmentId||void 0===ScopusUser.department.departmentName)throw new f("MissingPlatformData",'Object "ScopusUser" or "ScopusUser.webUserId" or \t\t\t\t"ScopusUser.account" or "ScopusUser.account.accountId" \t\t\t\tor "ScopusUser.account.accountName" or "ScopusUser.department" \t\t\t\tor "ScopusUser.department.departmentId" or "ScopusUser.department.departmentName" \t\t\t\tnot available in the platform.');return{webUserId:ScopusUser.webUserId,firstName:ScopusUser.firstName,lastName:ScopusUser.lastName,email:ScopusUser.email,department:{departmentId:ScopusUser.department.departmentId,departmentName:ScopusUser.department.departmentName},account:{accountId:ScopusUser.account.accountId,accountName:ScopusUser.account.accountName}}}},{key:"isIndividual",value:function(){if(!ScopusUser||void 0===ScopusUser.isIndividual)throw new f("InvalidIdentification","ScopusUser or isIndividual data is missing in the platform.");return ScopusUser.isIndividual}},{key:"getUserAccessType",value:function(){if(!ScopusUser||void 0===ScopusUser.accessTypeAA)throw new f("InvalidIdentification","ScopusUser or adobe access type data is missing in the platform.");return ScopusUser.accessTypeAA}},{key:"hasPathChoice",value:function(){if(!ScopusUser||void 0===ScopusUser.pathChoiceExists)throw new f("InvalidIdentification","ScopusUser or pathChoiceExists data is missing in the platform.");return ScopusUser.pathChoiceExists}}],(n=null)&&ge(t.prototype,n),r&&ge(t,r),i}(g);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Te(this,n)}}function Te(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(i,e);var t,n,r,o=Ee(i);function i(){return je(this,i),o.apply(this,arguments)}return t=i,r=[{key:"getId",value:function(){if(void 0===PlatformData||void 0===PlatformData.sessionId)throw new f("MissingPlatformData","Platform data with a valid session id is not available.");return PlatformData.sessionId}}],(n=null)&&Re(t.prototype,n),r&&Re(t,r),i}(S);function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ae,Fe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"execute",value:function(e){if(!jQuery)throw new f("MissingDependency","jQuery object must be available to use the PlatformBridgeJqueryHttpRequest object.");if(!e)throw new f("InvalidInput","Input cannot be empty.");if(!e.url)throw new f("InvalidInput","Request url is required for http calls.");if(!e.callbackFunction)throw new f("InvalidInput","Callback function is required.");var t=e.method||"GET";jQuery.ajax({url:e.url,headers:e.headers||{},cache:!1,type:t,data:e.body&&"GET"!==t&&"HEAD"!==t?e.body:"",async:void 0===e.async||e.async,tryCount:0,retryLimit:void 0!==e.retries?e.retries:0,timeout:void 0!==e.timeout?e.timeout:0,retryCallback:e.retryCallback,done:!1,success:function(e){this.tryCount++,this.done=!0},error:function(t){if(this.tryCount++,this.tryCount<=this.retryLimit)return 1===this.tryCount&&this.retryCallback&&e.retryCallback(),void jQuery.ajax(this);this.done=!0},complete:function(t){if(this.done){var n={};t.getAllResponseHeaders().trim().split("\n").filter((function(e){return e})).map((function(e){return e.split(":")})).forEach((function(e){n[e[0].trim()]=e[1].trim()})),e.callbackFunction({statusCode:t.status,statusText:t.statusText,body:t.responseText,headers:n,triedCount:this.tryCount})}}})}}],(n=null)&&Ue(t.prototype,n),r&&Ue(t,r),e}();function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||Me(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var o=Ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(i,e);var t,n,r,o=Le(i);function i(){return ze(this,i),o.apply(this,arguments)}return t=i,r=[{key:"getValue",value:function(e,t){if(arguments.length<2)return i._getGlobalValue.apply(i,arguments);W.validateParams({parameters:Array.prototype.slice.call(arguments),required:2,types:{0:"string",1:"string"},size:{0:{min:1},1:{min:1}}});var n=window.scopus.platform.configuration.getComponentConfiguration(e);return n&&n[t]?n[t]:null}},{key:"_getGlobalValue",value:function(e){if(!smapiVars)throw new f("InvalidEnvironment",'The global variable "smapiVars" does not exist within the app.');return W.validateParams({parameters:Array.prototype.slice.call(arguments),required:1,types:{0:["string","number"]},size:{0:{min:1}}}),smapiVars[e]}},{key:"getComponentConfiguration",value:function(e){var t="www.scopus.com",n="prod",r="nonProd",o={parameters:Array.prototype.slice.call(arguments),required:1,types:{0:"string"},size:{0:{min:1}}};W.validateParams(o);var a=i._getHostName(),c="".concat(e,":").concat(a===t?n:r),u=JSON.parse(sessionStorage.getItem(c));if(null==u){var l;if(i._doServiceCall(e),l=Ae,!i._componentConfigOk(l))throw new f("PlatformBridgeScopusConfiguration.getComponentConfiguration  ",i._buildMessageToThrow(l,e));var s,p=c.split(":")[1];u=i._buildConfigMap(l.body,p,s),i._setInSessionStorage(c,u)}else u=i._jsonObjectToMap(u);return u}},{key:"_doServiceCall",value:function(e){var t=i._getHostName(),n={url:"".concat("https://").concat(t).concat("/component/configuration","/").concat(e),async:!1,tryCount:0,retryLimit:2,timeout:2e3,callbackFunction:i.setComponentConfiguration};Fe.execute(n)}},{key:"_getHostName",value:function(){return window.location.hostname.includes("local")?"develop-www.scopus.com":window.location.hostname}},{key:"_componentConfigOk",value:function(e){var t=!0;return 200===e.statusCode&&void 0!==e.body&&0!==Object.entries(e.body).length||(t=!1),t}},{key:"_buildMessageToThrow",value:function(e,t){var n="".concat("The configuration for component id = "+t+" was empty."),r="".concat("The body of the configuration for component id = "+t+" was undefined."),o="".concat("The body of the configuration for component id = "+t+" was empty."),i="".concat(e.statusCode<500?"Service call to retrieve component configuration completed. HTTP status = "+e.statusCode:"Service call to retrieve component configuration did not complete. HTTP status = "+e.statusCode),a="".concat(204===e.statusCode?n:void 0===e.body?r:o);return"".concat(i+"."+a)}},{key:"_buildConfigMap",value:function(e,t,n){for(var r=new Map,o=0,a=Object.entries(e);o<a.length;o++){var c=De(a[o],2),u=c[0],l=c[1];if(l instanceof Object){if(n=u,0!==(r=i._buildConfigMap(l,t,n)).size)break}else n===t&&r.set(u,l)}return r}},{key:"_setInSessionStorage",value:function(e,t){var n={};t.forEach((function(e,t){n[t]=e})),sessionStorage.setItem(e,JSON.stringify(n))}},{key:"_jsonObjectToMap",value:function(e){var t,n=new Map(Object.entries(e)),r=new Map,o=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Me(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}(n.keys());try{for(o.s();!(t=o.n()).done;){var i=t.value;r.set(i,n.get(i))}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"setComponentConfiguration",value:function(e){Ae=e}}],(n=null)&&Ve(t.prototype,n),r&&Ve(t,r),i}(k);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ze(e);if(t){var o=Ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ke(this,n)}}function Ke(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(i,e);var t,n,r,o=Ye(i);function i(){return Qe(this,i),o.apply(this,arguments)}return t=i,r=[{key:"fail",value:function(e,t,n,r,o){W.validateParams({parameters:Array.prototype.slice.call(arguments),required:3,types:{0:"string",1:"string",2:"string"},size:{0:{min:1},1:{min:1},2:{min:1}}}),scopus.platform.logger.error(e,t+" "+n,r,o)}},{key:"warn",value:function(e,t,n,r,o){W.validateParams({parameters:Array.prototype.slice.call(arguments),required:3,types:{0:"string",1:"string",2:"string"},size:{0:{min:1},1:{min:1},2:{min:1}}}),scopus.platform.logger.warn(e,t+" "+n,r,o)}}],(n=null)&&$e(t.prototype,n),r&&$e(t,r),i}(P);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var o=ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return at(this,n)}}function at(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(i,e);var t,n,r,o=it(i);function i(){return nt(this,i),o.apply(this,arguments)}return t=i,r=[{key:"publish",value:function(e,t){W.validateParams(arguments,2),document.dispatchEvent(new CustomEvent(e,{detail:t})),scopus.platform.logger.debug("pbj-module-event-manager",'Published event "'.concat(e,'" with data: ').concat(t))}},{key:"subscribe",value:function(e,t){W.validateParams(arguments,2),scopus.platform.logger.debug("pbj-module-event-manager",'Subscribed to event "'.concat(e,'" via function: ').concat(t.name)),document.addEventListener(e,t)}},{key:"unsubscribe",value:function(e,t){W.validateParams({parameters:Array.prototype.slice.call(arguments),required:2,types:{0:"string",1:"function"},size:{0:{min:1}}}),document.removeEventListener(e,t),scopus.platform.logger.debug("pbj-module-event-manager",'Unsubscribed event "'.concat(e,'" with function: ').concat(t.name))}}],(n=null)&&rt(t.prototype,n),r&&rt(t,r),i}(R);function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(e,t){return!t||"object"!==lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(i,e);var t,n,r,o=yt(i);function i(){return st(this,i),o.apply(this,arguments)}return t=i,r=[{key:"getText",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];W.validateParams({parameters:Array.prototype.slice.call(arguments),required:2,types:{0:"string",1:"string"},size:{0:{min:1},1:{min:1}}});var i=ScopusUser&&ScopusUser.userLocale?ScopusUser.userLocale:"en-US",a=t;return window["localized-properties"]&&window["localized-properties"][e]&&window["localized-properties"][e][i]&&window["localized-properties"][e][i][t]?a=window["localized-properties"][e][i][t]:"en-US"!==i&&window["localized-properties"]&&window["localized-properties"][e]&&window["localized-properties"][e]["en-US"]&&window["localized-properties"][e]["en-US"][t]?a=window["localized-properties"][e]["en-US"][t]:window[e]&&window[e][t]&&(a=window[e][t]()),r&&r.length?this._formatString(a,r):a}},{key:"_formatString",value:function(e,t){return e.replace(/{(\d+)}/g,(function(e,n){return void 0!==t[n]?t[n]:e}))}}],(n=null)&&ft(t.prototype,n),r&&ft(t,r),i}(E);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kt(e);if(t){var o=kt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(i,e);var t,n,r,o=St(i);function i(){return ht(this,i),o.apply(this,arguments)}return t=i,r=[{key:"debug",value:function(e,t,n,r){W.validateParams([e,t],2);var o=i._buildMessage(e,t,n);console.debug(o),r&&i._logToServer(e,t,n,"DEBUG")}},{key:"info",value:function(e,t,n,r){W.validateParams([e,t],2);var o=i._buildMessage(e,t,n);console.info(o),r&&i._logToServer(e,t,n,"INFO")}},{key:"warn",value:function(e,t,n,r){W.validateParams([e,t],2);var o=i._buildMessage(e,t,n);console.warn(o),r&&i._logToServer(e,t,n,"WARN")}},{key:"error",value:function(e,t,n,r){W.validateParams([e,t],2);var o=i._buildMessage(e,t,n);console.error(o),r&&i._logToServer(e,t,n,"ERROR")}},{key:"_logToServer",value:function(e,t,n,r){var o={url:window.scopus.platform.configuration.getValue("PLATFORM_BRIDGE_REQUEST_LOGGING_URL"),headers:{"Content-Type":"application/json"},body:JSON.stringify({componentId:e,message:t,logLevel:r}),method:"POST",callbackFunction:function(e){if(console.log(e),200!==e.statusCode){var t=void 0===e.body?"Could not log to server":"Could not log to server "+e.body;i.error("pbj-module-logging",t,null,!1)}}};Fe.execute(o)}},{key:"_buildMessage",value:function(e,t,n){var r,o=scopus.platform.user.session.getId();return void 0!==n&&n instanceof Error&&("captureStackTrace"in Error?(Error.captureStackTrace(n),r="Error Stack: "+n.stack):r="Error Stack: "+(new Error).stack),"".concat("ComponentId: "+e,"; ").concat("SessionId: "+o,"; ").concat("Message: "+t).concat(void 0!==r?"; "+r:"").trim()}}],(n=null)&&gt(t.prototype,n),r&&gt(t,r),i}(C);function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var jt=2,Rt=3e3,It=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"buildRequest",value:function(t,n,r){var o="";return n.parameters&&(o+=t.includes("?")?"&":"?",o+=Object.keys(n.parameters).map((function(e){return"".concat(e,"=").concat(n.parameters[e])})).join("&")),{url:t+o,method:r,headers:n.headers||{},body:n.body&&"GET"!==r&&"HEAD"!==r?n.body:"",retries:void 0!==n.retries?n.retries:jt,timeout:void 0!==n.timeout?n.timeout:Rt,retryCallback:n.retry,callbackFunction:function(t){return e._processResponse(n,t)}}}},{key:"_processResponse",value:function(e,t){var n=t.statusCode,r=e.headers||{};if((r.Accept||r.accept||"").includes("application/json"))try{t.body=JSON.parse(t.body)}catch(e){window.scopus.platform.logger.error("PlatformBridgeProxyRequestBuilder","Failed to parse response as JSON.",e),n=500}n&&(n>=200&&n<300||304===n)?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}},{key:"_processProxyResponse",value:function(e,t){var n=e.statusCode;if(200!==n)throw new f("InvalidProxyRequest","Proxy returned status code (".concat(n,") and message: ").concat(e.body));t(this._extractServiceCallResponse(e))}},{key:"_extractServiceCallResponse",value:function(e){return{statusCode:e.body.proxyStatusCode,headers:e.body.proxyHeaders||{},body:e.body.proxyBody}}},{key:"buildProxyRequest",value:function(t,n){var r=this._wrapRequestIntoBody(t);return{url:n,headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(r),retries:t.retries,timeout:t.timeout,callbackFunction:function(n){return e._processProxyResponse(n,t.callbackFunction)}}}},{key:"_wrapRequestIntoBody",value:function(e){return{url:e.url,headers:e.headers||{},method:e.method,body:e.body}}}],(n=null)&&Pt(t.prototype,n),r&&Pt(t,r),e}();function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ft(e);if(t){var o=Ft(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}function At(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(i,e);var t,n,r,o=Ut(i);function i(){return Tt(this,i),o.apply(this,arguments)}return t=i,r=[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.validateParams(arguments,1),i._execute(e,t,"GET")}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.validateParams({parameters:Array.prototype.slice.call(arguments),required:1,types:{0:"string"},size:{0:{min:1}}}),i._execute(e,t,"POST")}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.validateParams(arguments,1),i._execute(e,t,"PUT")}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W.validateParams(arguments,1),i._execute(e,t,"DELETE")}},{key:"_execute",value:function(e,t,n){var r=It.buildRequest(e,t,n);i._shouldGoViaProxy(e)&&(r=It.buildProxyRequest(r,i._getProxyRequestUrl())),Fe.execute(r)}},{key:"_execute",value:function(e,t,n){var r=It.buildRequest(e,t,n);i._shouldGoViaProxy(e)&&(r=It.buildProxyRequest(r,i._getProxyRequestUrl())),Fe.execute(r)}},{key:"_shouldGoViaProxy",value:function(e){var t=window.scopus.platform.configuration.getValue("APP_DOMAIN");return!new URL(e).host.includes(t)}},{key:"_getProxyRequestUrl",value:function(){return window.scopus.platform.configuration.getValue("PLATFORM_BRIDGE_REQUEST_PROXY_URL")}}],(n=null)&&Ct(t.prototype,n),r&&Ct(t,r),i}(F);function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lt(e);if(t){var o=Lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bt(this,n)}}function Bt(e,t){return!t||"object"!==Dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ht={parameters:[],required:2,types:{0:"string",1:"string",2:"string"},size:{0:{min:1},1:{min:1},2:{min:0}}},Gt="INFO",Wt="CONFIRM",Jt="ERROR",Qt="WARN",$t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(i,e);var t,n,r,o=Vt(i);function i(){return Mt(this,i),o.apply(this,arguments)}return t=i,r=[{key:"notify",value:function(e,t,n){var r=document.getElementById("platformAlertArea");if(!r)throw new f("MissingPlatformDependency",'Platform page is missing HTML element with id "platformAlertArea".');var o=Object.assign({},Ht);o.parameters=Array.prototype.slice.call(arguments),W.validateParams(o);var a=i._getAlertMessageHtml(e,t,n);document.getElementById("platformAlertArea").innerHTML=a;try{var c="messenger.notify called with type of '".concat(e,"' and message '").concat(t,"'");scopus.platform.logger.debug("pbj-module-messenger-scopus",c)}catch(e){console.error(e)}}},{key:"_getAlertMessageHtml",value:function(e,t,n){var r="",o="";switch(e){case Gt:r="info",o="i";break;case Wt:r="success",o='<span class="ico-check"></span>';break;case Qt:r="warning",o="i";break;case Jt:r="danger",o="!";break;default:throw t="ERROR: Unknown messaging type ".concat(e),scopus.platform.logger.error("pbj-module-messenger-scopus",t),new f("InvalidType",t)}return i._constructAlertHtml(n,t,r,o)}},{key:"_constructAlertHtml",value:function(e,t,n,r){var o=e?"<header><h1>".concat(e,"</h1></header>"):"",i='<p class="noMarginBottom overflow">'.concat(t,"</p>");return'\n        <div class="alert alert-'.concat(n,'" role="alert">\n            <div class="row flexDisplay flexAlignTop flexNoWrap">\n                <span class="icon" aria-hidden="true">\n                    ').concat(r,'\n                </span>\n                <div class="alertContent">\n                    ').concat(o,"\n                    ").concat(i,"\n                </div>\n            </div>\n        </div>\n        ")}}],(n=null)&&qt(t.prototype,n),r&&qt(t,r),i}(U);function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nn(e);if(t){var o=nn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tn(this,n)}}function tn(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rn="pbj-module-storage-scopus",on={parameters:[],required:3,types:{0:"string",1:"string",2:"string"}},an=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(i,e);var t,n,r,o=en(i);function i(){return Yt(this,i),o.apply(this,arguments)}return t=i,r=[{key:"getValue",value:function(e,t,n){var r=Object.assign({},on);r.parameters=Array.prototype.slice.call(arguments),W.validateParams(r);var o="",a="";switch(n){case"BROWSER_SESSION":o=sessionStorage.getItem("".concat(e,"~").concat(t));break;case"ACROSS_BROWSER_SESSION":o=localStorage.getItem("".concat(e,"~").concat(t));break;case"PLATFORM":o=i._getValueFromPlatform(e,t);break;default:throw a="ERROR: Scope parameter(".concat(n,") in getValue() call not recognized"),scopus.platform.logger.error(rn,a),new f("InvalidScope",a)}return a="Retrieve key(".concat(e,"~").concat(t,") from ").concat(n," storage"),scopus.platform.logger.debug(rn,a),o}},{key:"putValue",value:function(e,t,n,r){var o=Object.assign({},on);o.parameters=Array.prototype.slice.call(arguments),o.required=4,o.types[3]="string",W.validateParams(o);var a="";switch(r){case"BROWSER_SESSION":sessionStorage.setItem("".concat(e,"~").concat(t),n);break;case"ACROSS_BROWSER_SESSION":localStorage.setItem("".concat(e,"~").concat(t),n);break;case"PLATFORM":i._updateValueInPlatformPage(e,t,n),i._updateValueInPlatformStorage(e,t,n);break;default:throw a="ERROR: Scope parameter(".concat(r,") in putValue() call not recognized"),scopus.platform.logger.error(rn,a),new f("InvalidScope",a)}a="Add key(".concat(e,"~").concat(t,") to ").concat(r," storage"),scopus.platform.logger.debug(rn,a)}},{key:"deleteValue",value:function(e,t,n){var r=Object.assign({},on);r.parameters=Array.prototype.slice.call(arguments),W.validateParams(r);var o="";switch(n){case"BROWSER_SESSION":sessionStorage.removeItem("".concat(e,"~").concat(t)),o="Remove key(".concat(e,"~").concat(t,") from ").concat(n," storage");break;case"ACROSS_BROWSER_SESSION":localStorage.removeItem("".concat(e,"~").concat(t)),o="Remove key(".concat(e,"~").concat(t,") from ").concat(n," storage");break;case"PLATFORM":throw o="ERROR: deleteValue is not supported for ".concat(n," scope"),scopus.platform.logger.error(rn,o),new f("UnsupportedMethod",o);default:throw o="ERROR: Scope parameter(".concat(n,") in deleteValue() call not recognized"),scopus.platform.logger.error(rn,o),new f("InvalidScope",o)}scopus.platform.logger.debug(rn,o)}},{key:"_getValueFromPlatform",value:function(e,t){if(void 0===ScopusUser||void 0===ScopusUser.userPreferences)throw new f("MissingPlatformData",'Object "ScopusUser" or "ScopusUser.userPreferences" is not available in the platform.');return ScopusUser.userPreferences[t]||null}},{key:"_updateValueInPlatformPage",value:function(e,t,n){if(void 0===ScopusUser||void 0===ScopusUser.userPreferences)throw new f("MissingPlatformData",'Object "ScopusUser" or "ScopusUser.userPreferences" is not available in the platform.');ScopusUser.userPreferences[t]=n}},{key:"_updateValueInPlatformStorage",value:function(e,t,n){var r,o=scopus.platform.user.identification.getIdentity().webUserId;if(!o)throw new f("MissingPlatformData","WebUserId could not be found.");if(Fe.execute({url:"/users/".concat(o,"/preferences/").concat(t,".uri"),method:"PUT",headers:{"Content-Type":"text/plain;charset=utf-8"},body:n,async:!1,callbackFunction:function(e){r=e}}),!r.statusCode||200!==r.statusCode)throw new f("StorageError","Error while updating the storage value for ".concat(e,", with ").concat(t,"=").concat(n))}}],(n=null)&&Kt(t.prototype,n),r&&Kt(t,r),i}(D);function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dn(e);if(t){var o=dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mn(this,n)}}function mn(e,t){return!t||"object"!==cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(i,e);var t,n,r,o=yn(i);function i(){return sn(this,i),o.apply(this,arguments)}return t=i,r=[{key:"getId",value:function(){if(void 0===PlatformData||void 0===PlatformData.pageId)throw new f("MissingPlatformData","Platform data with a valid page id is not available.");return PlatformData.pageId}},{key:"getUrlParams",value:function(){var e={},t=window.location.search,n=t.indexOf("?");return n>-1&&t.slice(n+1).split("&").forEach((function(t){var n=un(t.split("="),2),r=n[0],o=n[1],i=decodeURIComponent(o);r in e?"string"==typeof e[r]?e[r]=[e[r],i]:e[r].push(i):e[r]=i})),e}},{key:"getBookmarkParam",value:function(e,t){W.validateParams({parameters:Array.prototype.slice.call(arguments),required:2,types:{0:"string",1:"string"},size:{0:{min:1},1:{min:1}}});var n=scopus.platform.page.getUrlParams(),r=n[t]||null;return scopus.platform.logger.debug("pbj-module-page-scopus","Bookmark param ".concat(t,"=").concat(r," retrieved for component ").concat(e)),r}},{key:"setBookmarkParam",value:function(e,t,n){W.validateParams({parameters:Array.prototype.slice.call(arguments),required:3,types:{0:"string",1:"string",2:"string"},size:{0:{min:1},1:{min:1},2:{min:0}}});var r=scopus.platform.page.getUrlParams(),o=window.location.href;t in r?o=o.replace(new RegExp("([&?])".concat(t,"=[^&#]*"),"i"),"$1".concat(t,"=").concat(n)):o+="&".concat(t,"=").concat(n),window.history.replaceState(null,"",o),scopus.platform.logger.debug("pbj-module-page-scopus","Bookmark param ".concat(t,"=").concat(n," updated for component ").concat(e))}}],(n=null)&&fn(t.prototype,n),r&&fn(t,r),i}(q);n(0),n(1),n(2);scopus.platform.analytics=ee,scopus.platform.user.authentication=ue,scopus.platform.user.authorization=be,scopus.platform.user.identification=_e,scopus.platform.user.session=xe,scopus.platform.configuration=We,scopus.platform.errorReporter=et,scopus.platform.eventManager=ut,scopus.platform.localization=bt,scopus.platform.logger=_t,scopus.platform.messenger=$t,scopus.platform.serviceManager=Nt,scopus.platform.storage=an,scopus.platform.page=bn}]);